<!--  Jabber2 - jabberd JSX configuration  -->
<jsx project='lib'>
  <build>
    <variables>
      <var name='DEFINES'><value>-DCONFIGXML="\"jabber.xml\"" -DHOME="\"$(JHOME)\""</value></var>
    </variables>
    <libraries>
      <library priority='required'>
        <name>xode</name>
        <version>
	  <needed>1.2</needed>
	  <command>libxode-config --version</command>
        </version>
	<var name='CFLAGS'><command>libxode-config --cflags</command></var>
	<var name='LDFLAGS'><command>libxode-config --ldflags</command></var>
	<var name='LIBS'><command>libxode-config --libs</command></var>
      </library>
      <library priority='required'>
        <name>jabber</name>
        <version>
	  <needed>1.2</needed>
	  <command>jabber-config --version</command>
        </version>
	<var name='CFLAGS'><command>jabber-config --cflags</command></var>
	<var name='LDFLAGS'><command>jabber-config --ldflags</command></var>
	<var name='LIBS'><command>jabber-config --libs</command></var>
      </library>
      <library priority='required'>
        <name>pth</name>
        <version>
	  <needed>1.3.7</needed>
	  <command>pth-config --version</command>
        </version>
	<var name='CFLAGS'><command>pth-config --cflags</command></var>
	<var name='LDFLAGS'><command>pth-config --ldflags</command></var>
	<var name='LIBS'><command>pth-config --libs</command></var>
      </library>
    </libraries>
    <make>
      <macro name='HEADERS'>
        <file>../jabberd.h</file>
      </macro>
      <macro name='OBJECTS'>
        <file>expat.o</file>
        <file>genhash.o</file>
        <file>hashtable.o</file>
        <file>jid.o</file>
        <file>jpacket.o</file>
        <file>jutil.o</file>
        <file>karma.o</file>
        <file>pool.o</file>
        <file>pproxy.o</file>
        <file>rate.o</file>
        <file>sha.o</file>
        <file>snprintf.o</file>
        <file>socket.o</file>
        <file>str.o</file>
        <file>xmlnode.o</file>
        <file>xmlparse.o</file>
        <file>xmlrole.o</file>
        <file>xmltok.o</file>
        <file>xstream.o</file>
      </macro>
      <compile>
 	<objectfile macro='OBJECTS'>
	  <dep><macro>HEADERS</macro></dep>
        </objectfile>
      </compile>
    </make>
  </build>
</jsx>
